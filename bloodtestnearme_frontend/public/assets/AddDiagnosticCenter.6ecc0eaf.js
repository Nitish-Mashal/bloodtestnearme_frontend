var f=(b,o,r)=>new Promise((n,u)=>{var i=l=>{try{s(r.next(l))}catch(m){u(m)}},e=l=>{try{s(r.throw(l))}catch(m){u(m)}},s=l=>l.done?n(l.value):Promise.resolve(l.value).then(i,e);s((r=r.apply(b,o)).next())});import{R as w,r as y,f as c,g,h as t,l as a,v as d,k as N,t as v,p as x}from"./vendor.9d58089e.js";const S={class:"max-w-md mx-auto mt-4 p-3 bg-white rounded-2xl shadow-lg"},C={class:"grid grid-cols-1 sm:grid-cols-2 gap-3 mt-2"},E={class:"grid grid-cols-1 sm:grid-cols-2 gap-3 mt-2"},V={key:0,class:"bg-green-100 text-green-700 text-center p-1 rounded-md mb-3"},L={key:1,class:"bg-red-100 text-red-700 text-center p-1 rounded-md mb-3"},D={__name:"AddDiagnosticCenter",setup(b){const o=w({labName:"",address:"",phone:"",city:"",state:"",pincode:"",locationLink:""}),r=y(""),n=y(""),u=()=>f(this,null,function*(){var i,e,s;r.value="",n.value="";try{const l={diagnostic_center_name:o.labName,address:o.address,phone_number:o.phone,city:o.city,state:o.state,pincode:o.pincode,map_embed_link:o.locationLink,workflow_state:"Created"},p=yield(yield fetch("http://localhost:8000/api/method/bloodtestnearme.api.diagnostic_center.create_diagnostic_center",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)})).json();console.log("Response:",p),((i=p.message)==null?void 0:i.status)==="success"||((s=(e=p.message)==null?void 0:e.message)==null?void 0:s.includes("Diagnostic Center created successfully"))?(r.value="Diagnostic Center data submitted successfully!",Object.keys(o).forEach(k=>o[k]=""),setTimeout(()=>r.value="",4e3)):(n.value="Failed to submit data. Please try again.",setTimeout(()=>n.value="",4e3))}catch(l){console.error("Error posting Diagnostic Center:",l),n.value="Something went wrong. Please try again.",setTimeout(()=>n.value="",4e3)}});return(i,e)=>(c(),g("div",S,[e[15]||(e[15]=t("h2",{class:"text-2xl font-semibold text-center mb-2"},"Contact Information",-1)),t("form",{onSubmit:N(u,["prevent"]),class:"space-y-4"},[t("div",null,[e[7]||(e[7]=t("label",{class:"block text-gray-700 font-medium mb-1"},"Lab Name",-1)),a(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>o.labName=s),type:"text",placeholder:"Enter Lab Name",class:"w-full border border-gray-300 rounded-lg p-1 focus:ring focus:ring-blue-200",required:""},null,512),[[d,o.labName]])]),t("div",null,[e[8]||(e[8]=t("label",{class:"block text-gray-700 font-medium mb-1"},"Address",-1)),a(t("textarea",{"onUpdate:modelValue":e[1]||(e[1]=s=>o.address=s),placeholder:"Enter address",class:"w-full border border-gray-300 rounded-lg p-1 focus:ring focus:ring-blue-200",rows:"3",required:""},null,512),[[d,o.address]])]),t("div",C,[t("div",null,[e[9]||(e[9]=t("label",{class:"block text-gray-700 font-medium mb-1"},"Phone Number",-1)),a(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>o.phone=s),type:"tel",placeholder:"Enter phone number",class:"w-full border border-gray-300 rounded-lg p-1 focus:ring focus:ring-blue-200",required:""},null,512),[[d,o.phone]])]),t("div",null,[e[10]||(e[10]=t("label",{class:"block text-gray-700 font-medium mb-1"},"City",-1)),a(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>o.city=s),type:"text",placeholder:"Enter city",class:"w-full border border-gray-300 rounded-lg p-1 focus:ring focus:ring-blue-200",required:""},null,512),[[d,o.city]])])]),t("div",E,[t("div",null,[e[11]||(e[11]=t("label",{class:"block text-gray-700 font-medium mb-1"},"State",-1)),a(t("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>o.state=s),type:"text",placeholder:"Enter state",class:"w-full border border-gray-300 rounded-lg p-1 focus:ring focus:ring-blue-200",required:""},null,512),[[d,o.state]])]),t("div",null,[e[12]||(e[12]=t("label",{class:"block text-gray-700 font-medium mb-1"},"Pincode",-1)),a(t("input",{"onUpdate:modelValue":e[5]||(e[5]=s=>o.pincode=s),type:"text",placeholder:"Enter pincode",class:"w-full border border-gray-300 rounded-lg p-1 focus:ring focus:ring-blue-200",required:""},null,512),[[d,o.pincode]])])]),t("div",null,[e[13]||(e[13]=t("label",{class:"block text-gray-700 font-medium mb-1"},"Location Link",-1)),a(t("input",{"onUpdate:modelValue":e[6]||(e[6]=s=>o.locationLink=s),type:"url",placeholder:"Paste map or location link here",class:"w-full border border-gray-300 rounded-lg p-1 focus:ring focus:ring-blue-200",required:""},null,512),[[d,o.locationLink]])]),e[14]||(e[14]=t("div",{class:"text-center pt-2"},[t("button",{type:"submit",class:"global-bg-color text-white px-6 py-2 rounded-lg hover:global-bg-color transition"}," Submit ")],-1))],32),r.value?(c(),g("p",V,v(r.value),1)):x("",!0),n.value?(c(),g("p",L,v(n.value),1)):x("",!0)]))}};export{D as default};

var C=(p,o,r)=>new Promise((a,i)=>{var d=e=>{try{l(r.next(e))}catch(t){i(t)}},c=e=>{try{l(r.throw(e))}catch(t){i(t)}},l=e=>e.done?a(e.value):Promise.resolve(e.value).then(d,c);l((r=r.apply(p,o)).next())});import{_ as j,r as _,e as B,g as u,h as m,i as v,k as N,l as g,x as h,t as y,j as T,A as F,F as P,p as V,M as E}from"./vendor.47ac921e.js";import{C as I,N as L,S as M}from"./carousel.c2093fdd.js";const R={class:"mt-6"},D={class:"container sm:px-8"},O=["onClick"],$=["src"],q={key:0,class:"text-center mt-2 font-semibold text-gray-700 text-sm"},z={__name:"Promotions",setup(p){const o=_([]),r=_(0),a=_(null),i={0:{itemsToShow:1.1,snapAlign:"start"},640:{itemsToShow:2.1,snapAlign:"start"},1024:{itemsToShow:2.1,snapAlign:"start"}},d=()=>C(this,null,function*(){var e,t,n;try{const s=yield F.get("/api/method/bloodtestnearme.api.offers.get_offers");o.value=Array.isArray((e=s.data)==null?void 0:e.message)?s.data.message:Array.isArray((t=s.data)==null?void 0:t.data)?s.data.data:[],r.value=0,((n=a.value)==null?void 0:n.currentSlide)!=null&&(r.value=Number(a.value.currentSlide)||0)}catch(s){console.error("\u274C Error fetching offers:",s)}}),c=e=>{var n,s,f,x,S,k,w,b,A;let t=null;typeof e=="number"?t=e:e&&typeof e=="object"&&(t=(S=(x=(f=(s=(n=e.slidingTo)!=null?n:e.slide)!=null?s:e.index)!=null?f:e.current)!=null?x:e.currentSlide)!=null?S:null),t==null&&a.value&&(t=(A=(b=a.value.currentSlide)!=null?b:(w=(k=a.value).getCurrentSlide)==null?void 0:w.call(k))!=null?A:null),Number.isFinite(t)?r.value=Number(t):r.value=0},l=e=>{e&&window.open(e,"_blank","noopener,noreferrer")};return B(d),(e,t)=>(u(),m("section",R,[v("div",D,[N(h(I),{ref_key:"carouselRef",ref:a,breakpoints:i,wrapAround:!0,transition:500,snapAlign:"start",itemsToScroll:1,onSlideStart:c,onSlideChange:c,class:"offer-carousel"},{addons:g(()=>[N(h(L))]),default:g(()=>[(u(!0),m(P,null,V(o.value,(n,s)=>(u(),E(h(M),{key:s},{default:g(()=>[v("div",{class:"cursor-pointer w-full hover:scale-[1.02] mr-3",onClick:f=>l(n.link)},[v("img",{src:n.image,class:"w-full h-[180px] object-cover rounded-xl shadow-md"},null,8,$)],8,O)]),_:2},1024))),128))]),_:1},512),o.value.length?(u(),m("div",q,y(r.value+1)+" / "+y(o.value.length),1)):T("",!0)])]))}};var K=j(z,[["__scopeId","data-v-a08a99de"]]);export{K as default};

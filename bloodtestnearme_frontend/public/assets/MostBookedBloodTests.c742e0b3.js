var y=(b,m,d)=>new Promise((l,_)=>{var w=r=>{try{p(d.next(r))}catch(n){_(n)}},h=r=>{try{p(d.throw(r))}catch(n){_(n)}},p=r=>r.done?l(r.value):Promise.resolve(r.value).then(w,h);p((d=d.apply(b,m)).next())});import{_ as T,r as v,b as M,z as A,e as N,f as a,g as i,h as e,i as x,j as c,L as B,q as g,F as k,m as I,t as u,y as C,p as S,n as V,A as D}from"./vendor.06ca257d.js";import{u as F}from"./index.b01cf126.js";import{N as z,S as $,C as E}from"./carousel.60576c1a.js";const H={class:"mt-4"},L={class:"container px-2 sm:px-8 mt-6"},R={class:"bg-gray-100 px-3 py-4 rounded-xl"},Z={class:"flex flex-col sm:flex-row items-center justify-between w-full px-2 sm:px-6 pt-2 sm:pt-6 gap-2 sm:gap-0"},q={class:"sm:p-3 rounded-xl w-full"},P={class:"rounded-xl overflow-hidden shadow-md hover:shadow-lg transition-shadow bg-white mr-3 sm:mr-3 cursor-pointer w-56"},G={class:"px-3 py-3 text-white rounded-xl",style:{background:"linear-gradient(180deg,#2077BF 0%,#0040BB 100%)",height:"80px"}},J={class:"font-semibold text-[82%] leading-tight line-clamp-2"},K={class:"p-2 bg-white rounded-b-xl"},O={class:"flex justify-between items-center"},Q={class:"flex items-center gap-2"},U={class:"text-gray-400 line-through"},W={class:"font-semibold bold-test-color"},X={key:1,class:"font-semibold bold-test-color"},Y=["disabled","onClick","title"],ee={key:0,class:"absolute inset-0 flex items-center justify-center text-red-500 opacity-0 group-hover:opacity-100 transition"},te={class:"flex flex-row sm:flex-row sm:justify-between items-center gap-2 sm:gap-0 mt-2"},se=["disabled"],oe=["disabled"],ne={key:1,class:"flex justify-center items-center py-10"},ae={key:0,class:"text-center mt-2 font-semibold text-gray-700 text-sm"},re={__name:"MostBookedBloodTests",setup(b){const m=v(null),d=v(0),l=v([]),_=F(),w={0:{itemsToShow:1.2,snapAlign:"start"},640:{itemsToShow:2.2,snapAlign:"start"},1024:{itemsToShow:4.2,snapAlign:"start"}},h=()=>{var s;m.value&&(d.value=(s=m.value.currentSlide)!=null?s:0)},p=M(()=>{const s=l.value.length;return s?(d.value%s+s)%s+1:0}),r=()=>y(this,null,function*(){var s;try{const o=yield D.get("/api/method/bloodtestnearme.api.packages.get_packages_by_tags",{params:{tag:"mostbooktests"}});l.value=((s=o.data)==null?void 0:s.message)||[]}catch(o){console.error("\u274C Error fetching tests:",o)}}),n=s=>_.cartItems.some(o=>o.name1===s),j=s=>{n(s.name)||_.addToCart({name1:s.name,actual_price:s.actual_price,discounted_price:s.discounted_price})};return A(r),(s,o)=>{const f=N("router-link");return a(),i("div",H,[e("div",L,[e("div",R,[e("div",Z,[o[1]||(o[1]=e("h2",{class:"text-lg sm:text-xl md:text-4xl font-bold bold-test-color text-center flex-1"}," Most Booked Blood Tests ",-1)),x(f,{to:"/blood-test-online-bangalore",class:"text-sm font-medium flex items-center gap-1 no-underline bold-test-color hover:underline whitespace-nowrap"},{default:c(()=>[...o[0]||(o[0]=[e("span",null,"View All",-1),e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",class:"w-3 h-3 mt-[1px]"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m4.5 19.5 15-15m0 0H8.25m11.25 0v11.25"})],-1)])]),_:1})]),e("div",q,[l.value.length?(a(),B(g(E),{key:0,ref_key:"carouselRef",ref:m,wrapAround:!0,transition:500,itemsToScroll:1,breakpoints:w,snapAlign:"start",class:"most-booked-carousel",onSlideChange:h,onSlideStart:h},{addons:c(()=>[x(g(z))]),default:c(()=>[(a(!0),i(k,null,I(l.value,t=>(a(),B(g($),{key:t.id},{default:c(()=>[e("div",P,[x(f,{to:`/${t.url}`,class:"no-underline"},{default:c(()=>[e("div",G,[e("h3",J,u(t.name),1)])]),_:2},1032,["to"]),e("div",K,[e("div",O,[e("div",Q,[t.actual_price!=t.discounted_price?(a(),i(k,{key:0},[e("div",U,"\u20B9 "+u(t.actual_price),1),e("div",W,"\u20B9 "+u(t.discounted_price),1)],64)):(a(),i("div",X,"\u20B9 "+u(t.discounted_price),1))]),e("button",{disabled:n(t.name),onClick:le=>j(t),title:n(t.name)?"Item already in cart":"Add to cart",class:C(["relative group p-1 rounded-full transition",[n(t.name)?"bg-gray-200 cursor-not-allowed":"hover:bg-gray-100 text-indigo-900"]])},[(a(),i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:C(["w-5 h-5",n(t.name)?"text-gray-400":"text-indigo-900"])},[...o[2]||(o[2]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:`M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 \r
                             14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218\r
                             c1.121-2.3 2.1-4.684 2.924-7.138a60.114 \r
                             60.114 0 0 0-16.536-1.84M7.5 14.25 \r
                             5.106 5.272M6 20.25a.75.75 \r
                             0 1 1-1.5 0 .75.75 0 0 1 \r
                             1.5 0Zm12.75 0a.75.75 0 1 \r
                             1-1.5 0 .75.75 0 0 1 1.5 0Z`},null,-1)])],2)),n(t.name)?(a(),i("span",ee," \xD7 ")):S("",!0)],10,Y)]),e("div",te,[x(f,{to:t.url?{name:"SinglePackageBook",params:{slug:t.url}}:"#",class:"w-1/2 sm:w-auto no-underline"},{default:c(()=>[e("button",{disabled:!t.url,class:"bg-[#2077BF] text-white text-sm px-3 py-1.5 rounded-full hover:bg-blue-700 transition w-full"}," Book Now ",8,se)]),_:2},1032,["to"]),x(f,{to:t.url?`/${t.url}`:"#",class:"w-1/2 sm:w-auto no-underline"},{default:c(()=>[e("button",{disabled:!t.url,class:"border-1 border-[#001D55] font-semibold text-xs bold-test-color px-2 py-1 rounded-full hover:bg-gray-100 transition flex items-center justify-center gap-1 w-full whitespace-nowrap"},[...o[3]||(o[3]=[V(" View Details ",-1),e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",class:"w-3 h-3 mt-[1px]"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m4.5 19.5 15-15m0 0H8.25m11.25 0v11.25"})],-1)])],8,oe)]),_:2},1032,["to"])])])])]),_:2},1024))),128))]),_:1},512)):(a(),i("div",ne,[...o[4]||(o[4]=[e("svg",{class:"animate-spin h-6 w-6 text-[#001D55]",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4l3-3-3-3v4a8 8 0 00-8 8z"})],-1)])]))]),l.value.length?(a(),i("div",ae,u(p.value)+" / "+u(l.value.length),1)):S("",!0)])])])}}};var me=T(re,[["__scopeId","data-v-5d0e04f3"]]);export{me as default};

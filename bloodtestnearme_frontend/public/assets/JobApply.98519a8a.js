var k=(E,y,p)=>new Promise((N,g)=>{var v=n=>{try{s(p.next(n))}catch(c){g(c)}},a=n=>{try{s(p.throw(n))}catch(c){g(c)}},s=n=>n.done?N(n.value):Promise.resolve(n.value).then(v,a);s((p=p.apply(E,y)).next())});import{r as d,u as T,e as U,g as r,h as i,i as t,q as u,t as h,j as m,n as x,v as b}from"./vendor.c6eb2f57.js";const C={class:"container pt-4 bold-test-color"},F={key:0},B={class:"flex justify-between items-center"},M={class:"font-semibold text-2xl"},S={key:0,class:"border-1 border-[#001D55] text-sm px-3 py-1 rounded-full inline-flex items-center justify-center whitespace-nowrap mt-3"},A={class:"pt-2 text-justify"},$={class:"row"},L={class:"col-md-4"},P={key:0,class:"text-red-600 text-sm mt-1"},R={class:"col-md-4"},W={class:"col-md-4"},J={key:0,class:"text-red-600 text-sm mt-1"},O={class:"col-md-4"},z={key:0,class:"text-red-600 text-sm mt-1"},G={class:"col-md-4"},H={key:0,class:"text-red-600 text-sm mt-1"},Z={class:"col-md-4"},K={key:0,class:"text-red-600 text-sm mt-1"},Q={class:"flex justify-between items-start pt-4"},X={class:"flex flex-col"},Y={class:"cursor-pointer border-1 border-[#001D55] px-5 py-1 rounded-full hover:bg-gray-100 transition inline-flex items-center whitespace-nowrap"},ee={key:0,class:"text-red-600 text-sm mt-1"},te=["disabled"],se={key:1,class:"text-green-500 text-lg mt-3"},ae={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},ne={__name:"JobApply",setup(E){const y=d(""),p=d(""),N=d(""),g=d(!1),v=d(!1),a=d({firstName:"",middleName:"",lastName:"",experience:"",email:"",contact:""}),s=d({firstName:!1,lastName:!1,experience:!1,email:!1,contact:!1,resume:!1}),n=d(""),c=d(null),_=d(""),D=T(),V=o=>{const e=o.target.files[0];e&&(c.value=e,_.value=e.name,s.value.resume=!1)};U(()=>k(this,null,function*(){var e,l;const o=D.query.title;if(!!o){y.value=o,g.value=!0;try{const f=yield(yield fetch("/api/method/bloodtestnearme.api.jobapp.get_job_openings")).json();if(((l=(e=f.message)==null?void 0:e.data)==null?void 0:l.length)>0){const j=f.message.data.find(I=>I.job_title===o);j&&(p.value=j.job_type||"",N.value=j.description||"")}}catch(w){console.error("GET API Error:",w)}}}));const q=()=>k(this,null,function*(){var e,l;if(s.value.firstName=!a.value.firstName,s.value.lastName=!a.value.lastName,s.value.email=!a.value.email,s.value.experience=!a.value.experience,s.value.contact=!a.value.contact,s.value.resume=!c.value,s.value.firstName||s.value.lastName||s.value.email||s.value.experience||s.value.contact||s.value.resume)return;v.value=!0;const o=new FormData;o.append("cmd","bloodtestnearme.api.jobapp.submit_job_application"),o.append("first_name",a.value.firstName),o.append("middle_name",a.value.middleName||""),o.append("last_name",a.value.lastName),o.append("email",a.value.email),o.append("resume",c.value),o.append("job_opening",y.value),o.append("experience",a.value.experience),o.append("contact_number",a.value.contact),o.append("description",N.value||"");try{const f=yield(yield fetch("/api/method/bloodtestnearme.api.jobapp.submit_job_application",{method:"POST",body:o})).json();((e=f.message)==null?void 0:e.message)&&(n.value=f.message.message),((l=f.message)==null?void 0:l.status)==="success"&&(a.value={firstName:"",middleName:"",lastName:"",experience:"",email:"",contact:""},c.value=null,_.value="")}catch(w){console.error("POST API Error:",w),n.value="Something went wrong, please try again."}v.value=!1,setTimeout(()=>{n.value=""},3e3)});return(o,e)=>(r(),i("div",null,[t("div",C,[e[18]||(e[18]=t("div",{class:"border-1 border-[#001D55] px-5 py-1 rounded-full inline-flex items-center justify-center whitespace-nowrap"}," We're Hiring! ",-1)),e[19]||(e[19]=t("div",{class:"text-[220%] font-semibold pt-3 pb-4"},[u(" Be a part of our Team "),t("div",{class:"text-xl font-normal pt-2"},[u(" We're looking for passionate people to join us on our mission. We value flat hierarchies, "),t("br"),u(" clear communication, and full ownership and responsibility. ")])],-1)),g.value?(r(),i("div",F,[t("div",B,[t("h3",M,h(y.value),1),p.value?(r(),i("div",S,[e[11]||(e[11]=t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4 mr-2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})],-1)),u(" "+h(p.value),1)])):m("",!0)]),t("div",A,h(N.value),1)])):m("",!0),t("div",$,[t("div",L,[e[12]||(e[12]=t("label",{class:"form-label mt-4"},[u("First Name "),t("span",{class:"text-red-600"},"*")],-1)),x(t("input",{type:"text",class:"form-control py-1 placeholder:text-sm","onUpdate:modelValue":e[0]||(e[0]=l=>a.value.firstName=l),onInput:e[1]||(e[1]=l=>s.value.firstName=!1),placeholder:"Enter your First Name *"},null,544),[[b,a.value.firstName]]),s.value.firstName?(r(),i("p",P,"First Name is required.")):m("",!0)]),t("div",R,[e[13]||(e[13]=t("label",{class:"form-label mt-4"},"Middle Name",-1)),x(t("input",{type:"text",class:"form-control py-1 placeholder:text-sm","onUpdate:modelValue":e[2]||(e[2]=l=>a.value.middleName=l),placeholder:"Enter your Middle Name"},null,512),[[b,a.value.middleName]])]),t("div",W,[e[14]||(e[14]=t("label",{class:"form-label mt-4"},[u("Last Name "),t("span",{class:"text-red-600"},"*")],-1)),x(t("input",{type:"text",class:"form-control py-1 placeholder:text-sm","onUpdate:modelValue":e[3]||(e[3]=l=>a.value.lastName=l),onInput:e[4]||(e[4]=l=>s.value.lastName=!1),placeholder:"Enter your Last Name *"},null,544),[[b,a.value.lastName]]),s.value.lastName?(r(),i("p",J,"Last Name is required.")):m("",!0)]),t("div",O,[e[15]||(e[15]=t("label",{class:"form-label mt-4"},[u("Experience "),t("span",{class:"text-red-600"},"*")],-1)),x(t("input",{type:"text",class:"form-control py-1 placeholder:text-sm","onUpdate:modelValue":e[5]||(e[5]=l=>a.value.experience=l),onInput:e[6]||(e[6]=l=>s.value.experience=!1),placeholder:"Enter your Experience *"},null,544),[[b,a.value.experience]]),s.value.experience?(r(),i("p",z,"Experience is required.")):m("",!0)]),t("div",G,[e[16]||(e[16]=t("label",{class:"form-label mt-4"},[u("Email Address "),t("span",{class:"text-red-600"},"*")],-1)),x(t("input",{type:"email",class:"form-control py-1 placeholder:text-sm","onUpdate:modelValue":e[7]||(e[7]=l=>a.value.email=l),onInput:e[8]||(e[8]=l=>s.value.email=!1),placeholder:"Enter your Email Address *"},null,544),[[b,a.value.email]]),s.value.email?(r(),i("p",H,"Valid Email is required.")):m("",!0)]),t("div",Z,[e[17]||(e[17]=t("label",{class:"form-label mt-4"},[u("Contact Number "),t("span",{class:"text-red-600"},"*")],-1)),x(t("input",{type:"text",class:"form-control py-1 placeholder:text-sm","onUpdate:modelValue":e[9]||(e[9]=l=>a.value.contact=l),onInput:e[10]||(e[10]=l=>s.value.contact=!1),placeholder:"Enter your Contact Number *"},null,544),[[b,a.value.contact]]),s.value.contact?(r(),i("p",K,"Contact Number is required.")):m("",!0)])]),t("div",Q,[t("div",X,[t("label",Y,[t("input",{type:"file",class:"hidden",onChange:V},null,32),u(" "+h(_.value||"Upload Resume"),1)]),s.value.resume?(r(),i("p",ee," Resume is required. ")):m("",!0)]),t("button",{disabled:v.value,class:"cursor-pointer bg-[#2077BF] text-white px-5 py-1 rounded-full hover:text-[#001D55] transition disabled:opacity-50 disabled:cursor-not-allowed",onClick:q}," Submit ",8,te)]),n.value?(r(),i("p",se,h(n.value),1)):m("",!0),e[20]||(e[20]=t("div",{class:"text-xl font-normal pt-4"},[u(" Interested candidates can contact or share resumes to "),t("span",{class:"font-semibold"},"shankar.a2381@thyrocare.com")],-1))]),v.value?(r(),i("div",ae,[...e[21]||(e[21]=[t("div",{class:"bg-white px-6 py-4 rounded-xl shadow-lg text-lg font-semibold"}," Submitting... ",-1)])])):m("",!0)]))}};export{ne as default};

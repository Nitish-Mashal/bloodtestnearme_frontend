var C=(p,o,r)=>new Promise((n,i)=>{var d=e=>{try{l(r.next(e))}catch(t){i(t)}},c=e=>{try{l(r.throw(e))}catch(t){i(t)}},l=e=>e.done?n(e.value):Promise.resolve(e.value).then(d,c);l((r=r.apply(p,o)).next())});import{_ as j,r as m,e as B,g as u,h as _,i as v,k as N,l as g,x as h,t as y,j as T,A as P,F,p as V,N as E}from"./vendor.f5c2a979.js";import{C as I,N as L,S as O}from"./carousel.b70b6c21.js";const R={class:"mt-6"},$={class:"container sm:px-8"},D=["onClick"],M=["src","alt"],q={key:0,class:"text-center mt-2 font-semibold text-gray-700 text-sm"},z={__name:"Promotions",setup(p){const o=m([]),r=m(0),n=m(null),i={0:{itemsToShow:1.1,snapAlign:"start"},640:{itemsToShow:2.1,snapAlign:"start"},1024:{itemsToShow:2.1,snapAlign:"start"}},d=()=>C(this,null,function*(){var e,t,a;try{const s=yield P.get("/api/method/bloodtestnearme.api.offers.get_offers");o.value=Array.isArray((e=s.data)==null?void 0:e.message)?s.data.message:Array.isArray((t=s.data)==null?void 0:t.data)?s.data.data:[],r.value=0,((a=n.value)==null?void 0:a.currentSlide)!=null&&(r.value=Number(n.value.currentSlide)||0)}catch(s){console.error("\u274C Error fetching offers:",s)}}),c=e=>{var a,s,f,x,S,k,b,w,A;let t=null;typeof e=="number"?t=e:e&&typeof e=="object"&&(t=(S=(x=(f=(s=(a=e.slidingTo)!=null?a:e.slide)!=null?s:e.index)!=null?f:e.current)!=null?x:e.currentSlide)!=null?S:null),t==null&&n.value&&(t=(A=(w=n.value.currentSlide)!=null?w:(b=(k=n.value).getCurrentSlide)==null?void 0:b.call(k))!=null?A:null),Number.isFinite(t)?r.value=Number(t):r.value=0},l=e=>{e&&window.open(e,"_blank","noopener,noreferrer")};return B(d),(e,t)=>(u(),_("section",R,[v("div",$,[N(h(I),{ref_key:"carouselRef",ref:n,breakpoints:i,wrapAround:!0,transition:500,snapAlign:"start",itemsToScroll:1,onSlideStart:c,onSlideChange:c,class:"offer-carousel"},{addons:g(()=>[N(h(L))]),default:g(()=>[(u(!0),_(F,null,V(o.value,(a,s)=>(u(),E(h(O),{key:s},{default:g(()=>[v("div",{class:"cursor-pointer w-full hover:scale-[1.02] mr-3",onClick:f=>l(a.link)},[v("img",{src:a.image,alt:a.name1?`Offer: ${a.name1}`:"Promotional offer image",class:"w-full h-[180px] object-cover rounded-xl shadow-md"},null,8,M)],8,D)]),_:2},1024))),128))]),_:1},512),o.value.length?(u(),_("div",q,y(r.value+1)+" / "+y(o.value.length),1)):T("",!0)])]))}};var K=j(z,[["__scopeId","data-v-5fc9361e"]]);export{K as default};

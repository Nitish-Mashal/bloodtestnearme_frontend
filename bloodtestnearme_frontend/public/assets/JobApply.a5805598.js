var _=(j,y,c)=>new Promise((g,N)=>{var v=n=>{try{s(c.next(n))}catch(p){N(p)}},a=n=>{try{s(c.throw(n))}catch(p){N(p)}},s=n=>n.done?g(n.value):Promise.resolve(n.value).then(v,a);s((c=c.apply(j,y)).next())});import{r as u,u as T,e as U,g as r,h as i,i as t,q as m,t as f,j as d,n as x,v as b}from"./vendor.f5c2a979.js";const F={class:"container pt-4 bold-test-color"},B={key:0},M={class:"flex justify-between items-center"},S={class:"font-semibold text-2xl"},A={key:0,class:"border-1 border-[#001D55] text-sm px-3 py-1 rounded-full inline-flex items-center justify-center whitespace-nowrap mt-3"},P={class:"pt-2 text-justify"},L={class:"row"},R={class:"col-md-4"},$={key:0,class:"text-red-600 text-sm mt-1"},W={class:"col-md-4"},J={class:"col-md-4"},O={key:0,class:"text-red-600 text-sm mt-1"},z={class:"col-md-4"},G={key:0,class:"text-red-600 text-sm mt-1"},H={class:"col-md-4"},Z={key:0,class:"text-red-600 text-sm mt-1"},K={class:"col-md-4"},Q={key:0,class:"text-red-600 text-sm mt-1"},X={class:"flex flex-col md:flex-row md:justify-between md:items-start pt-4 gap-3 md:gap-0"},Y={class:"flex flex-col"},ee={class:"cursor-pointer border-1 border-[#001D55] px-5 py-1 rounded-full hover:bg-gray-100 transition inline-flex items-center w-full justify-center text-center overflow-hidden text-ellipsis whitespace-normal"},te={class:"truncate w-full text-center"},se={key:0,class:"text-red-600 text-sm mt-1"},ae=["disabled"],le={key:1,class:"text-green-500 text-lg mt-3"},oe={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},ie={__name:"JobApply",setup(j){const y=u(""),c=u(""),g=u(""),N=u(!1),v=u(!1),a=u({firstName:"",middleName:"",lastName:"",experience:"",email:"",contact:""}),s=u({firstName:!1,lastName:!1,experience:!1,email:!1,contact:!1,resume:!1}),n=u(""),p=u(null),h=u(""),D=T(),C=o=>{const e=o.target.files[0];e&&(p.value=e,h.value=e.name,s.value.resume=!1)};U(()=>_(this,null,function*(){var e,l;const o=D.query.title;if(!!o){y.value=o,N.value=!0;try{const E=yield(yield fetch("/api/method/bloodtestnearme.api.jobapp.get_job_openings")).json();if(((l=(e=E.message)==null?void 0:e.data)==null?void 0:l.length)>0){const w=E.message.data.find(q=>q.job_title===o);w&&(c.value=w.job_type||"",g.value=w.description||"")}}catch(k){console.error("GET API Error:",k)}}}));const I=o=>{let e=o.target.value;e=e.replace(/\D/g,""),e.length>10&&(e=e.slice(0,10)),a.value.contact=e,e?/^[6-9]/.test(e)?e.length!==10?s.value.contact="Contact Number must be exactly 10 digits.":s.value.contact=!1:s.value.contact="Indian numbers must start with 6, 7, 8 or 9.":s.value.contact="Contact Number is required."},V=()=>_(this,null,function*(){if(s.value.firstName=!a.value.firstName,s.value.lastName=!a.value.lastName,s.value.email=!a.value.email,s.value.experience=!a.value.experience,a.value.contact?/^[6-9]/.test(a.value.contact)?a.value.contact.length!==10?s.value.contact="Contact Number must be exactly 10 digits.":s.value.contact=!1:s.value.contact="Indian numbers must start with 6, 7, 8 or 9.":s.value.contact="Contact Number is required.",s.value.resume=!p.value,s.value.firstName||s.value.lastName||s.value.email||s.value.experience||s.value.contact||s.value.resume)return;v.value=!0;const o=new FormData;o.append("cmd","bloodtestnearme.api.jobapp.submit_job_application"),o.append("first_name",a.value.firstName),o.append("middle_name",a.value.middleName||""),o.append("last_name",a.value.lastName),o.append("email",a.value.email),o.append("resume",p.value),o.append("job_opening",y.value),o.append("experience",a.value.experience),o.append("contact_number",a.value.contact),o.append("description",g.value||"");try{const l=yield(yield fetch("/api/method/bloodtestnearme.api.jobapp.submit_job_application",{method:"POST",body:o})).json();l.message&&l.message.message&&(n.value=l.message.message),l.message&&l.message.status==="success"&&(a.value={firstName:"",middleName:"",lastName:"",experience:"",email:"",contact:""},p.value=null,h.value="")}catch(e){console.error("POST API Error:",e),n.value="Something went wrong, please try again."}v.value=!1,setTimeout(()=>{n.value=""},3e3)});return(o,e)=>(r(),i("div",null,[t("div",F,[e[17]||(e[17]=t("div",{class:"border-1 border-[#001D55] px-5 py-1 rounded-full inline-flex items-center justify-center whitespace-nowrap"}," We're Hiring! ",-1)),e[18]||(e[18]=t("div",{class:"font-semibold pt-3 pb-4"},[t("div",{class:"text-7xl"},"Be a part of our Team"),t("div",{class:"text-xl font-normal pt-2"},[m(" We're looking for passionate people to join us on our mission. We value flat hierarchies, "),t("br"),m(" clear communication, and full ownership and responsibility. ")])],-1)),N.value?(r(),i("div",B,[t("div",M,[t("h3",S,f(y.value),1),c.value?(r(),i("div",A,[e[10]||(e[10]=t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4 mr-2"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})],-1)),m(" "+f(c.value),1)])):d("",!0)]),t("div",P,f(g.value),1)])):d("",!0),t("div",L,[t("div",R,[e[11]||(e[11]=t("label",{class:"form-label mt-4"},[m("First Name "),t("span",{class:"text-red-600"},"*")],-1)),x(t("input",{type:"text",class:"form-control py-1 placeholder:text-sm","onUpdate:modelValue":e[0]||(e[0]=l=>a.value.firstName=l),onInput:e[1]||(e[1]=l=>s.value.firstName=!1),placeholder:"Enter your First Name *"},null,544),[[b,a.value.firstName]]),s.value.firstName?(r(),i("p",$,"First Name is required.")):d("",!0)]),t("div",W,[e[12]||(e[12]=t("label",{class:"form-label mt-4"},"Middle Name",-1)),x(t("input",{type:"text",class:"form-control py-1 placeholder:text-sm","onUpdate:modelValue":e[2]||(e[2]=l=>a.value.middleName=l),placeholder:"Enter your Middle Name"},null,512),[[b,a.value.middleName]])]),t("div",J,[e[13]||(e[13]=t("label",{class:"form-label mt-4"},[m("Last Name "),t("span",{class:"text-red-600"},"*")],-1)),x(t("input",{type:"text",class:"form-control py-1 placeholder:text-sm","onUpdate:modelValue":e[3]||(e[3]=l=>a.value.lastName=l),onInput:e[4]||(e[4]=l=>s.value.lastName=!1),placeholder:"Enter your Last Name *"},null,544),[[b,a.value.lastName]]),s.value.lastName?(r(),i("p",O,"Last Name is required.")):d("",!0)]),t("div",z,[e[14]||(e[14]=t("label",{class:"form-label mt-4"},[m("Experience "),t("span",{class:"text-red-600"},"*")],-1)),x(t("input",{type:"text",class:"form-control py-1 placeholder:text-sm","onUpdate:modelValue":e[5]||(e[5]=l=>a.value.experience=l),onInput:e[6]||(e[6]=l=>s.value.experience=!1),placeholder:"Enter your Experience *"},null,544),[[b,a.value.experience]]),s.value.experience?(r(),i("p",G,"Experience is required.")):d("",!0)]),t("div",H,[e[15]||(e[15]=t("label",{class:"form-label mt-4"},[m("Email Address "),t("span",{class:"text-red-600"},"*")],-1)),x(t("input",{type:"email",class:"form-control py-1 placeholder:text-sm","onUpdate:modelValue":e[7]||(e[7]=l=>a.value.email=l),onInput:e[8]||(e[8]=l=>s.value.email=!1),placeholder:"Enter your Email Address *"},null,544),[[b,a.value.email]]),s.value.email?(r(),i("p",Z,"Valid Email is required.")):d("",!0)]),t("div",K,[e[16]||(e[16]=t("label",{class:"form-label mt-4"},[m("Contact Number "),t("span",{class:"text-red-600"},"*")],-1)),x(t("input",{type:"text",class:"form-control py-1 placeholder:text-sm","onUpdate:modelValue":e[9]||(e[9]=l=>a.value.contact=l),onInput:I,maxlength:"10",placeholder:"Enter your Contact Number *"},null,544),[[b,a.value.contact]]),s.value.contact?(r(),i("p",Q,f(s.value.contact),1)):d("",!0)])]),t("div",X,[t("div",Y,[t("label",ee,[t("input",{type:"file",class:"hidden",onChange:C},null,32),t("span",te,f(h.value||"Upload Resume"),1)]),s.value.resume?(r(),i("p",se," Resume is required. ")):d("",!0)]),t("button",{disabled:v.value,onClick:V,class:"cursor-pointer bg-[#2077BF] text-white px-5 py-1 rounded-full hover:text-[#001D55] transition disabled:opacity-50 disabled:cursor-not-allowed"}," Submit ",8,ae)]),n.value?(r(),i("p",le,f(n.value),1)):d("",!0),e[19]||(e[19]=t("div",{class:"text-xl font-normal pt-4"},[m(" Interested candidates can contact or share resumes to "),t("span",{class:"font-semibold"},"shankar.a2381@thyrocare.com")],-1))]),v.value?(r(),i("div",oe,[...e[20]||(e[20]=[t("div",{class:"bg-white px-6 py-4 rounded-xl shadow-lg text-lg font-semibold"}," Submitting... ",-1)])])):d("",!0)]))}};export{ie as default};

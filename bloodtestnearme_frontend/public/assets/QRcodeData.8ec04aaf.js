import{d as r,f as l,g as i,h as o,n as S,t as I,q as d}from"./vendor.9d58089e.js";const m=r("qrCode",{state:()=>({scannedId:null}),actions:{checkUrlAndStoreId(){const e=new URLSearchParams(window.location.search).get("scannedId");e?this.setScannedId(e):this.loadFromLocalStorage()},setScannedId(n){if(!n)return;this.scannedId=n;const e={id:n,timestamp:Date.now()};localStorage.setItem("scannedId",JSON.stringify(e)),console.log("\u2705 Scanned ID saved:",n)},loadFromLocalStorage(){const n=localStorage.getItem("scannedId");if(n){const{id:e,timestamp:s}=JSON.parse(n),t=24*60*60*1e3;Date.now()-s>t?(console.log("\u26A0\uFE0F Scanned ID expired, clearing it..."),this.clearScannedId()):(this.scannedId=e,console.log("\u2705 Loaded scanned ID from storage:",e))}},clearScannedId(){this.scannedId=null,localStorage.removeItem("scannedId"),console.log("\u{1F5D1}\uFE0F Scanned ID cleared")}}}),g={__name:"QRcodeData",setup(n){const e=m();function s(){const t="HOSP12345";e.setScannedId(t)}return(t,a)=>(l(),i("div",null,[o("p",null,[a[1]||(a[1]=o("strong",null,"Scanned ID:",-1)),S(" "+I(d(e).scannedId||"No ID scanned yet"),1)]),o("button",{onClick:s},"Simulate Scan"),o("button",{onClick:a[0]||(a[0]=(...c)=>d(e).clearScannedId&&d(e).clearScannedId(...c))},"Clear Scan")]))}};export{g as default};

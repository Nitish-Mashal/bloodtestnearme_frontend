var w=(_,u,r)=>new Promise((f,p)=>{var b=t=>{try{e(r.next(t))}catch(a){p(a)}},c=t=>{try{e(r.throw(t))}catch(a){p(a)}},e=t=>t.done?f(t.value):Promise.resolve(t.value).then(b,c);e((r=r.apply(_,u)).next())});import{_ as P,r as h,X as C,f as k,g as N,h as s,i as l,j as n,k as L,a5 as g,e as y,l as d,v as i,n as v}from"./vendor.b685c3c6.js";const E={class:"container mx-auto px-6 py-8"},V={class:"col-span-2 flex justify-end mt-4 space-x-3"},S={__name:"AddDiagnosticCenter",setup(_){const u=h(),r=C({labName:"",address:"",phone:"",city:"",state:"",pincode:"",locationLink:""}),f={labName:[{required:!0,message:"Please enter Lab Name",trigger:"blur"}],address:[{required:!0,message:"Please enter Address",trigger:"blur"}],phone:[{required:!0,message:"Please enter Phone Number",trigger:"blur"},{pattern:/^[0-9]{10}$/,message:"Phone must be 10 digits",trigger:"blur"}],city:[{required:!0,message:"Please enter City",trigger:"blur"}],state:[{required:!0,message:"Please enter State",trigger:"blur"}],pincode:[{required:!0,message:"Please enter Pincode",trigger:"blur"},{pattern:/^[0-9]{6}$/,message:"Pincode must be 6 digits",trigger:"blur"}],locationLink:[{required:!0,message:"Please paste location link",trigger:"blur"},{validator:(c,e,t)=>{try{new URL(e),t()}catch(a){t(new Error("Enter a valid URL"))}},trigger:"blur"}]},p=()=>{u.value.resetFields()},b=()=>{u.value.validate(c=>w(this,null,function*(){var e,t,a;if(!c){g.error("Please fill all required fields correctly.");return}try{const m={diagnostic_center_name:r.labName,address:r.address,phone_number:r.phone,city:r.city,state:r.state,pincode:r.pincode,map_embed_link:r.locationLink,workflow_state:"Created"},x=yield(yield fetch("/api/method/bloodtestnearme.api.diagnostic_center.create_diagnostic_center",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)})).json();((e=x.message)==null?void 0:e.status)==="success"||((a=(t=x.message)==null?void 0:t.message)==null?void 0:a.includes("Diagnostic Center created successfully"))?(g.success("Diagnostic Center data submitted successfully!"),p()):g.error("Failed to submit data. Please try again.")}catch(m){console.error("Error:",m),g.error("Something went wrong. Please try again.")}}))};return(c,e)=>{const t=y("el-form-item"),a=y("el-button"),m=y("el-form");return k(),N("div",null,[s("div",E,[e[9]||(e[9]=s("h2",{class:"text-3xl font-semibold mb-6 text-gray-800"}," Diagnostic Center Contact Information ",-1)),l(m,{ref_key:"formRef",ref:u,model:r,rules:f,"label-position":"top",onSubmit:L(b,["prevent"]),class:"grid grid-cols-2 gap-x-4 gap-y-3 bg-white p-6 rounded-lg shadow-sm border border-gray-200"},{default:n(()=>[l(t,{label:"Lab Name",prop:"labName"},{default:n(()=>[d(s("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>r.labName=o),type:"text",placeholder:"Enter Lab Name",class:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:border-purple-600"},null,512),[[i,r.labName]])]),_:1}),l(t,{label:"Address",prop:"address"},{default:n(()=>[d(s("textarea",{"onUpdate:modelValue":e[1]||(e[1]=o=>r.address=o),placeholder:"Enter Address",rows:"1",class:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:border-purple-600"},null,512),[[i,r.address]])]),_:1}),l(t,{label:"Phone Number",prop:"phone"},{default:n(()=>[d(s("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>r.phone=o),type:"text",placeholder:"Enter Phone Number",class:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:border-purple-600"},null,512),[[i,r.phone]])]),_:1}),l(t,{label:"City",prop:"city"},{default:n(()=>[d(s("input",{"onUpdate:modelValue":e[3]||(e[3]=o=>r.city=o),type:"text",placeholder:"Enter City",class:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:border-purple-600"},null,512),[[i,r.city]])]),_:1}),l(t,{label:"State",prop:"state"},{default:n(()=>[d(s("input",{"onUpdate:modelValue":e[4]||(e[4]=o=>r.state=o),type:"text",placeholder:"Enter State",class:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:border-purple-600"},null,512),[[i,r.state]])]),_:1}),l(t,{label:"Pincode",prop:"pincode"},{default:n(()=>[d(s("input",{"onUpdate:modelValue":e[5]||(e[5]=o=>r.pincode=o),type:"text",placeholder:"Enter Pincode",class:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:border-purple-600"},null,512),[[i,r.pincode]])]),_:1}),l(t,{label:"Location Link",prop:"locationLink",class:"col-span-2"},{default:n(()=>[d(s("input",{"onUpdate:modelValue":e[6]||(e[6]=o=>r.locationLink=o),type:"text",placeholder:"Paste map or location link here",class:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:border-purple-600"},null,512),[[i,r.locationLink]])]),_:1}),s("div",V,[l(a,{type:"default",onClick:p},{default:n(()=>[...e[7]||(e[7]=[v("Cancel",-1)])]),_:1}),l(a,{type:"primary",onClick:b},{default:n(()=>[...e[8]||(e[8]=[v("Submit",-1)])]),_:1})])]),_:1},8,["model"])])])}}};var D=P(S,[["__scopeId","data-v-399bfe20"]]);export{D as default};

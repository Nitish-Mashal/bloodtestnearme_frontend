var M=(h,_,m)=>new Promise((f,a)=>{var n=d=>{try{p(m.next(d))}catch(y){a(y)}},c=d=>{try{p(m.throw(d))}catch(y){a(y)}},p=d=>d.done?f(d.value):Promise.resolve(d.value).then(n,c);p((m=m.apply(h,_)).next())});import{b as P,f as r,g as i,h as e,t as u,F as x,m as w,q as H,p as C,u as T,r as k,z as E,w as L,L as O,j as q,y as $,i as j,N as z,A as I,P as F,e as V}from"./vendor.489ad559.js";import{u as R}from"./index.3c20c1e1.js";import U from"./MostBookedHealthCheckups.7a75022d.js";const J={key:0,class:"bold-test-color"},W={class:"pt-4"},Z=["innerHTML"],G={class:"pt-2"},K={class:"text-red-600"},Q={class:"pt-4"},X={class:"row"},Y={class:"card shadow border-0 rounded-4 bold-test-color p-4 text-[90%] font-regular text-center flex flex-col items-center justify-center"},ee=["src","alt"],te={key:0,class:"pt-4"},se={class:"list-decimal pl-6 space-y-1"},ae={__name:"HealthCheckupDescription",props:{packageData:{type:Object,required:!0}},setup(h){const _=h,m=Object.freeze([{image:"/files/watch.png",alt:"time",text:"10-12 hours fasting is required. Water is allowed."},{image:"/files/glass.png",alt:"water",text:"Keep yourself well-hydrated. Water is important."},{image:"/files/bed.png",alt:"rest",text:"Get enough rest for mind and body."},{image:"/files/gym.png",alt:"exercise",text:"Avoid heavy exercise a day before the blood test."}]),f=P(()=>{var n;const a=(n=_.packageData)==null?void 0:n.booking_procedure;if(!a)return[];try{const c=JSON.parse(a);return Array.isArray(c)?c.map(p=>p.trim()).filter(Boolean):[]}catch(c){return a.replace(/[\[\]"]/g,"").split(",").map(p=>p.replace(/^\d+\.\s*/,"").trim()).filter(Boolean)}});return(a,n)=>h.packageData?(r(),i("div",J,[e("div",W,[e("h3",null,u(h.packageData.name1)+" ("+u(h.packageData.number_of_test)+" Tests) ",1)]),e("div",{class:"pt-2",innerHTML:h.packageData.description},null,8,Z),e("div",G,[n[0]||(n[0]=e("strong",null,"Sample Type: ",-1)),e("span",K,u(h.packageData.sample_type),1)]),e("section",Q,[n[1]||(n[1]=e("h5",{class:"font-semibold pb-4"},"Precautionary Measures:",-1)),e("div",X,[(r(!0),i(x,null,w(H(m),c=>(r(),i("div",{key:c.alt,class:"col-md-4 col-lg-3 col-sm-12 pb-3"},[e("div",Y,[e("img",{src:c.image,alt:c.alt,loading:"lazy",decoding:"async",class:"w-16 pb-2"},null,8,ee),e("div",null,u(c.text),1)])]))),128))])]),f.value.length?(r(),i("section",te,[n[2]||(n[2]=e("h5",{class:"font-semibold pb-4"},"Booking Procedure:",-1)),e("ol",se,[(r(!0),i(x,null,w(f.value,(c,p)=>(r(),i("li",{key:p},u(c),1))),128))])])):C("",!0)])):C("",!0)}},oe={class:"container"},le={key:0,class:"py-4 row"},re={class:"col-12 col-md-8 mb-2"},ne={class:"accordion",id:"accordionExample"},ie=["id"],ce=["data-bs-target","aria-expanded","aria-controls"],de=["id","aria-labelledby"],ue={class:"accordion-body text-sm bold-test-color"},pe={key:0,class:"list-disc pl-5"},me={key:1,class:"text-gray-500 italic"},ge={class:"col-12 col-md-4"},he={class:"card p-3"},fe={class:"card-title bold-test-color font-semibold text-2xl pb-3"},_e={class:"flex justify-between font-semibold pb-2 text-lg"},be={class:"text-red-600 line-through"},ve={class:"flex justify-between font-semibold pb-2 text-lg"},ye={class:"flex justify-between font-bold pb-4 text-xl"},ke={class:"text-green-600"},xe={class:"flex flex-col sm:flex-row justify-center mb-4 gap-4"},we=["disabled"],Ce={key:1,class:"flex justify-center items-center h-60"},je={__name:"HealthCheckupDetails",setup(h){const _=T(),m=R(),f=k(!0),a=k(null),n=k([]),c=k(0),p=k(0),d=t=>m.cartItems.some(s=>s.name1===t.name1),y=t=>{d(t)?m.removeFromCart(t.name1):m.addToCart(t)},D=()=>M(this,null,function*(){f.value=!0;try{const t=_.params.url||_.params.slug||_.params.id;if(!t){console.warn("\u2757 Missing package URL in route.");return}const{data:s}=yield I.get("/api/method/bloodtestnearme.api.packages.get_packages",{params:{url:decodeURIComponent(t)}}),l=s==null?void 0:s.message,o=Array.isArray(l==null?void 0:l.data)?l.data[0]:(l==null?void 0:l.data)||l;if(o){a.value=o,c.value=parseFloat(o.discounted_price||0)+p.value;try{n.value=o.list_include?JSON.parse(o.list_include):[]}catch(v){console.error("\u274C Error parsing list_include."),n.value=[]}yield F(),A(o)}else console.warn("\u26A0\uFE0F No data found for:",t)}catch(t){console.error("\u274C Error fetching package details:",t)}finally{f.value=!1}}),A=t=>{const s=t.meta_title||t.title||`${t.package_name||"Health Checkup"} | Blood Test Near Me`;if(document.title=s,b("description",t.meta_description||t.short_description),b("keywords",t.meta_keyword),b("og:title",s,"property"),b("og:description",t.meta_description||t.short_description,"property"),b("og:type","website","property"),b("twitter:card","summary_large_image"),b("twitter:title",s),b("twitter:description",t.meta_description||t.short_description),t.header_tag){let l=document.querySelector("h1[data-dynamic-header]");if(l)l.textContent=t.header_tag;else{const o=document.createElement("h1");o.textContent=t.header_tag,o.setAttribute("data-dynamic-header","true"),o.style.display="none",document.body.prepend(o)}}},b=(t,s,l="name")=>{if(!s)return;let o=document.querySelector(`meta[${l}='${t}']`);o||(o=document.createElement("meta"),o.setAttribute(l,t),document.head.appendChild(o)),o.setAttribute("content",s)};return E(D),L(()=>_.params.url,D),(t,s)=>{var o;const l=V("router-link");return r(),i("div",null,[e("div",oe,[!f.value&&a.value?(r(),i("div",le,[e("div",re,[s[1]||(s[1]=e("h5",{class:"font-bold bold-test-color pb-2"},"List Of Tests Included:",-1)),e("div",ne,[(r(!0),i(x,null,w(n.value,(v,g)=>{var B;return r(),i("div",{key:v.heading||g,class:"accordion-item border border-gray-200 overflow-hidden"},[e("h2",{class:"accordion-header",id:`heading${g}`},[e("button",{class:$(["accordion-button font-semibold bold-test-color text-sm",{collapsed:g!==0}]),type:"button","data-bs-toggle":"collapse","data-bs-target":`#collapse${g}`,"aria-expanded":g===0,"aria-controls":`collapse${g}`},u(v.heading),11,ce)],8,ie),e("div",{id:`collapse${g}`,class:$(["accordion-collapse collapse",{show:g===0}]),"aria-labelledby":`heading${g}`,"data-bs-parent":"#accordionExample"},[e("div",ue,[((B=v.values)==null?void 0:B.length)?(r(),i("ul",pe,[(r(!0),i(x,null,w(v.values,(N,S)=>(r(),i("li",{key:`${g}-${S}`},u(N),1))),128))])):(r(),i("p",me," No tests available for this section. "))])],10,de)])}),128))])]),e("div",ge,[e("div",he,[e("div",fe,u(a.value.name1)+" ("+u(a.value.number_of_test)+" Tests) ",1),e("div",_e,[s[2]||(s[2]=e("span",null,"Package Price:",-1)),e("span",be,"\u20B9 "+u(a.value.actual_price),1)]),e("div",ve,[s[3]||(s[3]=e("span",null,"Offer Price:",-1)),e("span",null,"\u20B9 "+u(a.value.discounted_price),1)]),e("div",ye,[s[4]||(s[4]=e("span",null,"Amount to be paid:",-1)),e("span",ke,"\u20B9 "+u(a.value.discounted_price),1)]),e("div",xe,[((o=a.value)==null?void 0:o.url)?(r(),O(l,{key:0,to:{name:"SinglePackageBook",params:{slug:a.value.url}},class:"w-full sm:w-auto no-underline"},{default:q(()=>[...s[5]||(s[5]=[e("button",{class:"global-bg-color text-white text-sm px-3 py-2 rounded-full transition w-full sm:w-auto"}," Book Now ",-1)])]),_:1},8,["to"])):C("",!0),e("button",{disabled:d(a.value),onClick:s[0]||(s[0]=v=>y(a.value)),class:$(["relative border border-[#001D55] text-sm bold-test-color px-3 py-2 rounded-full flex items-center justify-center gap-1 transition",{"bg-gray-200 cursor-not-allowed":d(a.value),"hover:bg-gray-100":!d(a.value)}])},[e("span",null,u(d(a.value)?"Added":"Add to Cart"),1),s[6]||(s[6]=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-4 h-4"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:`M2.25 3h1.386c.51 0 .955.343 \r
                    1.087.835l.383 1.437M7.5 \r
                    14.25a3 3 0 0 0-3 \r
                    3h15.75m-12.75-3h11.218\r
                    c1.121-2.3 2.1-4.684 \r
                    2.924-7.138a60.114 \r
                    60.114 0 0 0-16.536-1.84M7.5 \r
                    14.25 5.106 5.272M6 20.25a.75.75 \r
                    0 1 1-1.5 0 .75.75 0 0 1 \r
                    1.5 0Zm12.75 0a.75.75 0 1 \r
                    1-1.5 0 .75.75 0 0 1 1.5 0Z`})],-1))],10,we)])])]),j(ae,{packageData:a.value},null,8,["packageData"])])):f.value?(r(),i("div",Ce,[...s[7]||(s[7]=[z('<div class="flex flex-col items-center"><svg class="animate-spin h-8 w-8 text-[#001D55]" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path></svg><p class="text-[#001D55] mt-3 font-semibold"> Loading package details... </p></div>',1)])])):C("",!0)]),j(U)])}}};export{je as default};
